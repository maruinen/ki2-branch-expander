# GEMINI.md

## AI Context & Instructions

このファイルは、Gemini CLI がプロジェクトを理解し、一貫した開発を行うための特別な指示を格納します。

### 技術スタック
- **Language**: Python 3.10+
- **Library**: `python-shogi` (盤面シミュレーションと指し手バリデーションに使用)

### 開発規約 (Development Conventions)
- **局面の同一性 (SFEN-based Identity)**: 局面は、SFEN 文字列の盤面、手番、持駒成分のみを使用して識別します（手数 `move count` は無視）。
- **無限ループ防止 (Cycle Detection)**: 木構造の展開時に、同一経路内での局面の重複（千日手）を検知し、無限再帰を防止する必要があります。
- **相対表記の生成**: 展開された指し手を出力する際、`右`, `左`, `直`, `寄`, `上`, `引`, `打` などの KI2 特有の相対表記を正しく維持・生成してください。

### ツールとワークフロー
- **GitHub CLI (`gh`)**: PR の作成等には `gh` コマンドを使用してください。
- **PR 作成**: `gh pr create` を使用し、変更内容を明確に記述してください。

### 注意事項
- **ディレクトリ構成の重複禁止**: `README.md` に最新のツリー構成があるため、ここには記述しないでください。
- **人間向けドキュメント**: 一般的な使い方は `README.md` を、詳細なアルゴリズムは `design.md` を参照してください。
